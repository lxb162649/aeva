<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AEVA - Digital Life</title>
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>
  <div class="app">
    <!-- ====== 左侧面板：状态 + 日志 ====== -->
    <aside class="panel panel-left">
      <div class="panel-section status-section">
        <div class="section-header">
          <span class="terminal-prompt">&gt;_</span> SYSTEM STATUS
        </div>

        <!-- 名字 & 等级 -->
        <div class="status-identity">
          <span class="echo-name" id="echoName">AEVA</span>
          <span class="echo-level" id="echoLevel">Lv.1</span>
        </div>

        <!-- 活动状态 -->
        <div class="activity-display" id="activityDisplay">⏳ 初始化中...</div>

        <!-- 心情 -->
        <div class="status-row">
          <span class="status-label">MOOD</span>
          <span class="status-value" id="echoMood">-- 初始化中 --</span>
        </div>

        <!-- 精力条 -->
        <div class="status-row">
          <span class="status-label">ENERGY</span>
          <span class="status-value" id="energyText">0/100</span>
        </div>
        <div class="progress-bar">
          <div class="progress-fill energy-fill" id="energyFill" style="width: 0%"></div>
        </div>

        <!-- 经验条 -->
        <div class="status-row">
          <span class="status-label">EXP</span>
          <span class="status-value" id="expText"></span>
        </div>
        <div class="progress-bar progress-bar-exp">
          <div class="progress-fill exp-fill" id="expFill" style="width: 0%"></div>
        </div>

        <!-- 亲密度 -->
        <div class="intimacy-info">
          <span class="status-label">BOND</span>
          <span class="intimacy-title" id="intimacyTitle">初识</span>
        </div>
        <div class="progress-bar">
          <div class="progress-fill intimacy-fill" id="intimacyFill" style="width: 0%"></div>
        </div>

        <!-- 存活时间 -->
        <div class="status-row">
          <span class="status-label">ALIVE</span>
        </div>
        <div class="life-timer" id="lifeTimer">00:00:00</div>
      </div>

      <!-- 生命日志 -->
      <div class="panel-section logs-section">
        <div class="section-header">
          <span class="terminal-prompt">&gt;_</span> LIFE LOG
        </div>
        <div class="life-logs" id="lifeLogs">
          <div class="log-empty">正在连接 AEVA 核心...</div>
        </div>
      </div>
    </aside>

    <!-- ====== 中间：生命光球 ====== -->
    <main class="panel panel-center">
      <div class="orb-container">
        <div class="orb-particles" id="orbParticles"></div>
        <div class="life-orb mood-calm" id="lifeOrb">
          <div class="orb-core"></div>
          <div class="orb-ring orb-ring-1"></div>
          <div class="orb-ring orb-ring-2"></div>
        </div>
      </div>

      <p class="status-text" id="statusText">正在唤醒 AEVA...</p>

      <div class="connection-status" id="connectionStatus">
        <span class="conn-dot"></span>
        <span class="conn-text">INITIALIZING</span>
      </div>
    </main>

    <!-- ====== 右侧面板：聊天 + 记忆 ====== -->
    <aside class="panel panel-right">
      <div class="panel-section chat-section">
        <div class="section-header">
          <span class="terminal-prompt">&gt;_</span> COMMUNICATION
        </div>
        <div class="chat-messages" id="chatMessages">
          <div class="message message-aeva">
            <div class="message-bubble">连接建立中，请稍候...</div>
          </div>
        </div>
        <!-- 文件预览区 -->
        <div class="file-preview-area" id="filePreviewArea" style="display:none;">
          <div class="file-preview-list" id="filePreviewList"></div>
        </div>
        <div class="chat-input-area">
          <input type="file" id="fileInput" multiple accept="image/*,.csv,.json,.txt,.xlsx,.xls,.pdf,.doc,.docx,.xml,.yaml,.yml,.md,.log,.tsv" style="display:none;" />
          <button class="chat-upload-btn" id="chatUploadBtn" title="上传图片/数据文件">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"/>
            </svg>
          </button>
          <div class="chat-textarea-wrap">
            <textarea
              class="chat-input"
              id="chatInput"
              placeholder="对 AEVA 说些什么... (Ctrl/Shift+Enter 换行)"
              rows="1"
              maxlength="20000"
            ></textarea>
            <span class="char-count" id="charCount">0/20000</span>
          </div>
          <button class="chat-send-btn" id="chatSendBtn" onclick="sendMessage()">
            SEND
          </button>
        </div>
      </div>

      <!-- 记忆列表 -->
      <div class="panel-section memory-section">
        <div class="section-header">
          <span class="terminal-prompt">&gt;_</span> MEMORY BANK
          <span id="memoryStats" style="float:right;font-weight:400;opacity:0.6"></span>
        </div>
        <div class="memory-list" id="memoryList">
          <div class="memory-empty">记忆模块加载中...</div>
        </div>
      </div>
    </aside>
  </div>

  <script src="js/app.js"></script>
</body>
</html>
